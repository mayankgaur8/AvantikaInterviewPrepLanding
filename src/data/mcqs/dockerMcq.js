// src/data/mcqs/dockerMcq.js

export const DOCKER_MCQ = [
  {
    id: "docker_001",
    tag: "Docker • Easy",
    q: "What is Docker primarily used for?",
    options: [
      "Writing UI components",
      "Containerizing applications for consistent runtime",
      "Replacing all databases",
      "Compiling Java bytecode",
    ],
    answer: 1,
    explain:
      "Docker packages apps + dependencies into containers so they run consistently across environments.",
  },
  {
    id: "docker_002",
    tag: "Docker • Easy",
    q: "Which command builds an image from a Dockerfile in the current directory?",
    options: ["docker run .", "docker build -t myapp .", "docker image pull .", "docker exec build ."],
    answer: 1,
    explain: "`docker build -t <name> .` builds an image using Dockerfile in the current folder.",
  },
  {
    id: "docker_003",
    tag: "Docker • Easy",
    q: "Which file typically contains instructions to build a Docker image?",
    options: ["package.json", "compose.yaml", "Dockerfile", "README.md"],
    answer: 2,
    explain: "A Dockerfile contains the steps to assemble an image.",
  },
  {
    id: "docker_004",
    tag: "Docker • Easy",
    q: "What does `docker pull nginx` do?",
    options: ["Starts an nginx container", "Builds nginx from source", "Downloads the nginx image", "Deletes nginx image"],
    answer: 2,
    explain: "`docker pull` downloads an image from a registry (e.g., Docker Hub).",
  },
  {
    id: "docker_005",
    tag: "Docker • Easy",
    q: "What is the default registry used by Docker when you run `docker pull` without a registry prefix?",
    options: ["GitHub Packages", "Docker Hub", "AWS ECR", "Azure ACR"],
    answer: 1,
    explain: "By default Docker pulls from Docker Hub unless specified otherwise.",
  },
  {
    id: "docker_006",
    tag: "Docker • Easy",
    q: "Which command lists all running containers?",
    options: ["docker ps", "docker images", "docker logs", "docker inspect"],
    answer: 0,
    explain: "`docker ps` shows running containers.",
  },
  {
    id: "docker_007",
    tag: "Docker • Easy",
    q: "Which command lists all containers including stopped ones?",
    options: ["docker ps -a", "docker ps --images", "docker containers", "docker list all"],
    answer: 0,
    explain: "`docker ps -a` includes stopped containers too.",
  },
  {
    id: "docker_008",
    tag: "Docker • Easy",
    q: "Which command shows all local Docker images?",
    options: ["docker ps", "docker images", "docker build", "docker stats"],
    answer: 1,
    explain: "`docker images` lists images stored locally.",
  },
  {
    id: "docker_009",
    tag: "Docker • Easy",
    q: "How do you remove a stopped container by ID?",
    options: ["docker rm <containerId>", "docker rmi <containerId>", "docker del <containerId>", "docker remove image <id>"],
    answer: 0,
    explain: "`docker rm` removes containers. `docker rmi` removes images.",
  },
  {
    id: "docker_010",
    tag: "Docker • Easy",
    q: "How do you remove an image by ID or name?",
    options: ["docker rm <image>", "docker rmi <image>", "docker delete <image>", "docker drop <image>"],
    answer: 1,
    explain: "`docker rmi` removes images from local storage.",
  },

  // -------------------- Intermediate --------------------
  {
    id: "docker_011",
    tag: "Docker • Medium",
    q: "What does `-p 8080:80` mean in `docker run -p 8080:80 nginx`?",
    options: [
      "Expose container port 8080 to host port 80",
      "Map host port 8080 to container port 80",
      "Map host port 80 to container port 8080",
      "Open ports only inside container network",
    ],
    answer: 1,
    explain: "`hostPort:containerPort` → host 8080 forwards to container 80.",
  },
  {
    id: "docker_012",
    tag: "Docker • Medium",
    q: "What is the difference between `COPY` and `ADD` in a Dockerfile?",
    options: [
      "No difference",
      "ADD can auto-extract tar and fetch remote URLs; COPY is simpler",
      "COPY can fetch remote URLs; ADD cannot",
      "ADD is deprecated; COPY is mandatory",
    ],
    answer: 1,
    explain: "Prefer COPY for clarity; ADD has extra behaviors (tar extract, URLs).",
  },
  {
    id: "docker_013",
    tag: "Docker • Medium",
    q: "Which instruction is best for setting environment variables in Dockerfile?",
    options: ["RUN", "ENV", "ARG", "LABEL"],
    answer: 1,
    explain: "`ENV KEY=value` sets environment variables in the image/container runtime.",
  },
  {
    id: "docker_014",
    tag: "Docker • Medium",
    q: "What is the main difference between `ARG` and `ENV` in Dockerfile?",
    options: [
      "ARG is available only at build time; ENV is available at runtime too",
      "ENV is only for build time; ARG is runtime",
      "Both behave same always",
      "ARG stores secrets securely by default",
    ],
    answer: 0,
    explain: "`ARG` is build-time only. `ENV` persists into the container runtime.",
  },
  {
    id: "docker_015",
    tag: "Docker • Medium",
    q: "What does `docker exec -it <container> sh` do?",
    options: [
      "Builds a shell into the image",
      "Opens an interactive shell inside a running container",
      "Restarts the container into shell mode",
      "Copies shell scripts into the container",
    ],
    answer: 1,
    explain: "`docker exec -it` runs a command interactively inside an already running container.",
  },
  {
    id: "docker_016",
    tag: "Docker • Medium",
    q: "What is a Docker volume mainly used for?",
    options: [
      "Speeding up CPU usage",
      "Persisting data outside container lifecycle",
      "Encrypting network traffic",
      "Scaling containers horizontally",
    ],
    answer: 1,
    explain: "Volumes persist data even if container is removed, and are managed by Docker.",
  },
  {
    id: "docker_017",
    tag: "Docker • Medium",
    q: "Which command creates a named volume?",
    options: ["docker volume create myvol", "docker create volume myvol", "docker vol add myvol", "docker mkvol myvol"],
    answer: 0,
    explain: "`docker volume create <name>` creates a named volume.",
  },
  {
    id: "docker_018",
    tag: "Docker • Medium",
    q: "What does mounting a bind mount do?",
    options: [
      "Stores data in Docker-managed storage",
      "Maps a host directory/file directly into the container",
      "Creates an encrypted filesystem",
      "Creates a separate network namespace",
    ],
    answer: 1,
    explain: "Bind mounts map a specific host path into the container.",
  },
  {
    id: "docker_019",
    tag: "Docker • Medium",
    q: "Which Dockerfile instruction defines the default process for the container?",
    options: ["CMD", "RUN", "COPY", "LABEL"],
    answer: 0,
    explain: "`CMD` defines default command. `ENTRYPOINT` defines fixed executable.",
  },
  {
    id: "docker_020",
    tag: "Docker • Medium",
    q: "ENTRYPOINT vs CMD: which statement is correct?",
    options: [
      "ENTRYPOINT is ignored if CMD exists",
      "CMD is always required if ENTRYPOINT exists",
      "ENTRYPOINT defines executable; CMD provides default args (commonly)",
      "They are identical",
    ],
    answer: 2,
    explain: "Common pattern: ENTRYPOINT = app, CMD = default args (overrideable).",
  },
  {
    id: "docker_021",
    tag: "Docker • Medium",
    q: "What does `docker logs <container>` show?",
    options: [
      "Build logs from Dockerfile",
      "System daemon logs",
      "Stdout/stderr output of the container process",
      "Network packet logs",
    ],
    answer: 2,
    explain: "Docker captures stdout/stderr of the container's main process as logs.",
  },
  {
    id: "docker_022",
    tag: "Docker • Medium",
    q: "How can you follow logs in real time?",
    options: ["docker logs -f <container>", "docker logs --tail all <container>", "docker logs -rt <container>", "docker follow <container>"],
    answer: 0,
    explain: "`docker logs -f` follows logs continuously.",
  },
  {
    id: "docker_023",
    tag: "Docker • Medium",
    q: "What is the default network driver for Docker on a single host?",
    options: ["bridge", "host", "overlay", "macvlan"],
    answer: 0,
    explain: "Default is `bridge` network for containers on a host.",
  },
  {
    id: "docker_024",
    tag: "Docker • Medium",
    q: "What does `docker network create mynet` create by default?",
    options: ["host network", "bridge network", "overlay network", "none network"],
    answer: 1,
    explain: "By default it creates a user-defined bridge network.",
  },
  {
    id: "docker_025",
    tag: "Docker • Medium",
    q: "Why are user-defined bridge networks preferred over the default bridge for multi-container apps?",
    options: [
      "They disable DNS resolution",
      "They allow automatic DNS-based service discovery by container name",
      "They are faster than host network always",
      "They prevent containers from communicating",
    ],
    answer: 1,
    explain: "User-defined networks provide built-in DNS and better isolation controls.",
  },
  {
    id: "docker_026",
    tag: "Docker • Medium",
    q: "What does `EXPOSE 8080` do in Dockerfile?",
    options: [
      "Publishes the port to the host automatically",
      "Documents that the container listens on that port (and enables -P mapping)",
      "Opens firewall on host OS",
      "Starts a web server on that port",
    ],
    answer: 1,
    explain: "EXPOSE is metadata/documentation; you still need `-p` to publish.",
  },
  {
    id: "docker_027",
    tag: "Docker • Medium",
    q: "Which command runs a container in the background?",
    options: ["docker run -bg ...", "docker run -d ...", "docker run --daemon off", "docker start -d ..."],
    answer: 1,
    explain: "`-d` runs container detached (in background).",
  },
  {
    id: "docker_028",
    tag: "Docker • Medium",
    q: "What is the purpose of `.dockerignore`?",
    options: [
      "Ignore Docker daemon errors",
      "Exclude files/folders from build context to speed up builds and avoid leaking secrets",
      "Disable caching in docker build",
      "Ignore environment variables",
    ],
    answer: 1,
    explain: ".dockerignore reduces build context size and prevents unwanted files being copied.",
  },
  {
    id: "docker_029",
    tag: "Docker • Medium",
    q: "What does Docker layer caching rely on mostly?",
    options: [
      "CPU clock speed",
      "Order of instructions and whether inputs to each layer changed",
      "Container name",
      "Host OS version only",
    ],
    answer: 1,
    explain: "Each instruction creates a layer; cache is reused if that step’s inputs are unchanged.",
  },
  {
    id: "docker_030",
    tag: "Docker • Medium",
    q: "Which is a best practice to reduce image size for node/java builds?",
    options: [
      "Use latest full OS base image always",
      "Use multi-stage builds to separate build artifacts from runtime",
      "Copy entire workspace including .git",
      "Run everything as root",
    ],
    answer: 1,
    explain: "Multi-stage builds keep only runtime artifacts in the final image.",
  },

  // -------------------- Advanced --------------------
  {
    id: "docker_031",
    tag: "Docker • Hard",
    q: "In multi-stage builds, why do you use `FROM ... as build`?",
    options: [
      "To enable container networking",
      "To name a stage so you can `COPY --from=build` artifacts into final stage",
      "To change Docker daemon settings",
      "To run build stage in privileged mode automatically",
    ],
    answer: 1,
    explain: "Named stages let you copy only compiled artifacts into the final image.",
  },
  {
    id: "docker_032",
    tag: "Docker • Hard",
    q: "What is the main risk of putting secrets into Dockerfile `ENV`?",
    options: [
      "They are encrypted automatically",
      "They become part of image layers and can be extracted later",
      "They are only available at runtime and safe",
      "They are stored only in memory",
    ],
    answer: 1,
    explain: "Secrets in ENV can leak via image history/layers. Use secret managers/build secrets instead.",
  },
  {
    id: "docker_033",
    tag: "Docker • Hard",
    q: "What does running a container as non-root help with?",
    options: [
      "Faster build time",
      "Improved security and reduced blast radius",
      "Better DNS resolution",
      "Automatic TLS setup",
    ],
    answer: 1,
    explain: "Non-root containers reduce privilege escalation risks if compromised.",
  },
  {
    id: "docker_034",
    tag: "Docker • Hard",
    q: "Which feature limits CPU and memory for a container?",
    options: ["--cpu --ram", "--cpus and --memory", "--limit-cpu --limit-mem", "--restrict"],
    answer: 1,
    explain: "Use `--cpus` and `--memory` (and related flags) to enforce resource limits.",
  },
  {
    id: "docker_035",
    tag: "Docker • Hard",
    q: "What is the difference between `docker stop` and `docker kill`?",
    options: [
      "stop sends SIGTERM then SIGKILL after timeout; kill sends SIGKILL immediately (default)",
      "kill removes image; stop removes container",
      "stop works only for Windows; kill only for Linux",
      "They are identical",
    ],
    answer: 0,
    explain: "`docker stop` attempts graceful shutdown; `docker kill` terminates immediately by default.",
  },
  {
    id: "docker_036",
    tag: "Docker • Hard",
    q: "What does `HEALTHCHECK` provide?",
    options: [
      "Network encryption",
      "A way for Docker to mark container as healthy/unhealthy based on a command",
      "Auto-scaling of containers",
      "Automatic log rotation",
    ],
    answer: 1,
    explain: "HEALTHCHECK runs a command periodically; status can be used by orchestrators.",
  },
  {
    id: "docker_037",
    tag: "Docker • Hard",
    q: "Why is `alpine` sometimes problematic for Java apps?",
    options: [
      "It doesn’t support TCP",
      "It uses musl libc which can cause compatibility issues; some binaries expect glibc",
      "It cannot run JVM",
      "It blocks JIT compilation",
    ],
    answer: 1,
    explain: "Alpine uses musl; some tooling/native libs may expect glibc. Distroless/debian-slim often safer.",
  },
  {
    id: "docker_038",
    tag: "Docker • Hard",
    q: "What does `--network host` do on Linux?",
    options: [
      "Creates a new virtual network",
      "Shares host network namespace (no port mapping needed, less isolation)",
      "Enables overlay networking",
      "Disables DNS",
    ],
    answer: 1,
    explain: "Host network removes network isolation; container uses host IP stack.",
  },
  {
    id: "docker_039",
    tag: "Docker • Hard",
    q: "What is the advantage of `distroless` images?",
    options: [
      "They include package managers",
      "They reduce attack surface by excluding shells and OS utilities",
      "They always run as root",
      "They automatically scan vulnerabilities",
    ],
    answer: 1,
    explain: "Distroless contains only runtime dependencies, minimizing size and attack surface.",
  },
  {
    id: "docker_040",
    tag: "Docker • Hard",
    q: "What does `docker image history <image>` show?",
    options: [
      "All running containers",
      "Layer history and commands used to build the image",
      "Only container logs",
      "Network routes inside container",
    ],
    answer: 1,
    explain: "It shows layer-by-layer build metadata; useful for debugging and security reviews.",
  },
  {
    id: "docker_041",
    tag: "Docker • Hard",
    q: "Which statement about `overlay` networks is correct?",
    options: [
      "Overlay is only for single-host Docker",
      "Overlay enables multi-host networking (commonly with Swarm/Kubernetes CNI)",
      "Overlay disables service discovery",
      "Overlay is same as host network",
    ],
    answer: 1,
    explain: "Overlay networks allow containers on different hosts to communicate as one network (orchestrator required).",
  },
  {
    id: "docker_042",
    tag: "Docker • Hard",
    q: "What is Docker BuildKit mainly known for?",
    options: [
      "Running containers faster",
      "Improved build performance, better caching, parallel builds, and build secrets support",
      "Replacing Dockerfile with YAML only",
      "Disabling image layers",
    ],
    answer: 1,
    explain: "BuildKit accelerates builds and supports advanced features like secrets and cache mounts.",
  },
  {
    id: "docker_043",
    tag: "Docker • Hard",
    q: "What is a common best practice for Java containers regarding memory settings?",
    options: [
      "Always set Xmx to 100% of host RAM",
      "Rely on JVM container awareness and set reasonable limits; optionally tune -XX:MaxRAMPercentage",
      "Disable GC",
      "Use 32-bit JVM",
    ],
    answer: 1,
    explain: "Use container memory limits and tune JVM RAM percentage if needed to avoid OOMKills.",
  },
  {
    id: "docker_044",
    tag: "Docker • Hard",
    q: "What does `docker system prune` do?",
    options: [
      "Deletes source code",
      "Removes unused containers, networks, images (dangling) and build cache (depending flags)",
      "Restarts Docker daemon",
      "Optimizes container CPU usage",
    ],
    answer: 1,
    explain: "It cleans up unused Docker objects. Use carefully to avoid deleting needed images/cache.",
  },
  {
    id: "docker_045",
    tag: "Docker • Hard",
    q: "Why is `COPY . .` near the end of a Dockerfile often recommended?",
    options: [
      "It enables faster networking",
      "It improves caching: dependency install layers remain cached if source changes frequently",
      "It reduces container memory usage",
      "It enables rootless mode",
    ],
    answer: 1,
    explain: "If you copy all sources early, small code changes invalidate cache for later steps (like dependencies).",
  },
  {
    id: "docker_046",
    tag: "Docker • Hard",
    q: "What is a typical safe way to pass secrets during build (instead of ENV)?",
    options: [
      "Put secrets in Dockerfile comments",
      "Use BuildKit secrets (`--secret`) or CI secret store and mount during build",
      "Hardcode in source code",
      "Store in image labels",
    ],
    answer: 1,
    explain: "BuildKit secrets allow using secrets at build time without baking them into layers.",
  },
  {
    id: "docker_047",
    tag: "Docker • Hard",
    q: "What does `docker cp` do?",
    options: [
      "Copies image layers",
      "Copies files between host and container filesystem",
      "Copies containers between networks",
      "Copies logs to stdout",
    ],
    answer: 1,
    explain: "`docker cp <container>:path hostPath` (or reverse) copies files in/out.",
  },
  {
    id: "docker_048",
    tag: "Docker • Hard",
    q: "What does it mean if a container exits immediately after starting?",
    options: [
      "Docker is broken",
      "The main process finished or crashed; containers live as long as PID 1 runs",
      "Network is down",
      "Volume is corrupted always",
    ],
    answer: 1,
    explain: "Containers stop when the main process ends. Check `docker logs` for the crash/exit reason.",
  },
  {
    id: "docker_049",
    tag: "Docker • Hard",
    q: "Which is a best practice for PID 1 behavior in containers?",
    options: [
      "Ignore signals",
      "Ensure PID 1 handles signals properly (SIGTERM) to shutdown gracefully (or use tini)",
      "Always run multiple services in one container",
      "Never use ENTRYPOINT",
    ],
    answer: 1,
    explain: "PID 1 has special signal handling; using tini or proper app shutdown improves reliability.",
  },
  {
    id: "docker_050",
    tag: "Docker • Hard",
    q: "If you want reproducible builds, which approach is best for base images?",
    options: [
      "Always use `latest`",
      "Pin to a specific tag and ideally digest (sha256) for deterministic base image",
      "Use random tags each time",
      "Never specify a tag",
    ],
    answer: 1,
    explain: "Pinning tag/digest prevents unexpected changes due to image updates.",
  },
];
