// src/data/mcqs/cicdMcq.js
// 50 CI/CD MCQs (Easy/Medium/Hard mix)

export const CICD_MCQ = [
  {
    id: "cicd-1",
    tag: "CI/CD • Easy",
    q: "What does CI stand for in DevOps?",
    options: ["Continuous Integration", "Code Inspection", "Cloud Infrastructure", "Continuous Improvement"],
    answer: 0,
    explain: "CI means Continuous Integration: frequently merging code and validating with automated builds/tests.",
  },
  {
    id: "cicd-2",
    tag: "CI/CD • Easy",
    q: "What does CD most commonly stand for in CI/CD?",
    options: ["Code Delivery", "Continuous Delivery/Deployment", "Cloud Deployment", "Change Detection"],
    answer: 1,
    explain: "CD usually refers to Continuous Delivery (ready to deploy) or Continuous Deployment (auto deploy).",
  },
  {
    id: "cicd-3",
    tag: "CI/CD • Easy",
    q: "Which step typically happens first in a CI pipeline?",
    options: ["Deploy to production", "Compile/build", "Scale infrastructure", "Run load test only"],
    answer: 1,
    explain: "Pipelines usually start with checkout + build/compile before tests and packaging.",
  },
  {
    id: "cicd-4",
    tag: "CI/CD • Easy",
    q: "Which is the best practice for CI commits?",
    options: ["Commit large changes monthly", "Commit small changes frequently", "Avoid commits until feature complete", "Commit only on Fridays"],
    answer: 1,
    explain: "Small frequent commits reduce merge conflicts and speed feedback.",
  },
  {
    id: "cicd-5",
    tag: "CI/CD • Easy",
    q: "What is the main purpose of automated tests in CI?",
    options: ["Replace code review", "Detect regressions early", "Increase app size", "Avoid version control"],
    answer: 1,
    explain: "Automated tests catch bugs/regressions early on every change.",
  },
  {
    id: "cicd-6",
    tag: "CI/CD • Easy",
    q: "Which artifact is commonly produced by a CI pipeline for a Java app?",
    options: ["WAR/JAR", "PNG", "CSV", "SSH key"],
    answer: 0,
    explain: "Java builds typically output JAR/WAR as deployable artifacts.",
  },
  {
    id: "cicd-7",
    tag: "CI/CD • Easy",
    q: "What is an artifact repository used for?",
    options: ["Store build outputs (JARs/images)", "Store passwords in plain text", "Run Kubernetes clusters", "Write source code"],
    answer: 0,
    explain: "Artifact repos (Nexus/Artifactory) store versioned build outputs for reuse.",
  },
  {
    id: "cicd-8",
    tag: "CI/CD • Easy",
    q: "Which is a common container image registry?",
    options: ["Docker Hub", "Jira", "Confluence", "Prometheus"],
    answer: 0,
    explain: "Docker Hub is a popular container registry (also ECR/ACR/GCR).",
  },
  {
    id: "cicd-9",
    tag: "CI/CD • Easy",
    q: "What is the primary goal of Continuous Delivery?",
    options: ["Deploy every commit automatically", "Keep software always in a deployable state", "Remove testing", "Avoid staging environments"],
    answer: 1,
    explain: "Continuous Delivery means every change is releasable; deployment can still be a manual decision.",
  },
  {
    id: "cicd-10",
    tag: "CI/CD • Easy",
    q: "What is a pipeline stage?",
    options: ["A manual document", "A logical group of jobs/steps", "A database table", "A Git branch"],
    answer: 1,
    explain: "Stages group related jobs (build, test, deploy) and define ordering/visibility.",
  },

  // ---------------- Medium (11-35) ----------------
  {
    id: "cicd-11",
    tag: "CI/CD • Medium",
    q: "What is the benefit of pipeline caching (e.g., Maven/Node modules cache)?",
    options: ["More secure secrets", "Faster builds by reusing dependencies", "Higher production uptime", "More branches"],
    answer: 1,
    explain: "Caching reuses downloaded dependencies, significantly reducing build time.",
  },
  {
    id: "cicd-12",
    tag: "CI/CD • Medium",
    q: "What is a pipeline 'runner/agent'?",
    options: ["A dashboard widget", "A machine/process that executes pipeline jobs", "A code formatter", "A database migration tool"],
    answer: 1,
    explain: "Runner/agent is the executor that runs jobs (GitLab Runner, Jenkins agent).",
  },
  {
    id: "cicd-13",
    tag: "CI/CD • Medium",
    q: "What is the main purpose of a deployment environment (dev/qa/prod) in pipelines?",
    options: ["Separate secrets/config and reduce blast radius", "Make builds slower", "Avoid versioning", "Disable monitoring"],
    answer: 0,
    explain: "Environments isolate configuration, approvals, and deployments by stage.",
  },
  {
    id: "cicd-14",
    tag: "CI/CD • Medium",
    q: "Which is a common approach to manage environment-specific configurations securely?",
    options: ["Hardcode in source", "Store in repo plaintext", "Use secret manager + config per env", "Put in comments"],
    answer: 2,
    explain: "Use Key Vault/Secrets Manager + per-env config (and inject during deploy).",
  },
  {
    id: "cicd-15",
    tag: "CI/CD • Medium",
    q: "What is a 'build once, deploy many' principle?",
    options: [
      "Build different artifacts for each env",
      "Use the same immutable artifact across environments",
      "Skip tests in higher envs",
      "Recompile in production",
    ],
    answer: 1,
    explain: "Create one artifact and promote it across environments to ensure consistency.",
  },
  {
    id: "cicd-16",
    tag: "CI/CD • Medium",
    q: "What is a canary deployment?",
    options: [
      "Deploy to all users at once",
      "Deploy to a small subset first and then roll out gradually",
      "Deploy only on weekends",
      "Deploy without monitoring",
    ],
    answer: 1,
    explain: "Canary releases reduce risk by exposing changes to a small percentage initially.",
  },
  {
    id: "cicd-17",
    tag: "CI/CD • Medium",
    q: "What is blue/green deployment?",
    options: [
      "Two production environments where traffic switches from old to new",
      "Two databases in the same VM",
      "A logging strategy",
      "A CI caching technique",
    ],
    answer: 0,
    explain: "Blue/green keeps two environments; switch traffic to the new one for quick rollback.",
  },
  {
    id: "cicd-18",
    tag: "CI/CD • Medium",
    q: "What is a rollback strategy in deployment pipelines?",
    options: ["Ignore failures", "A plan to revert to previous stable version", "Delete the repo", "Change DNS randomly"],
    answer: 1,
    explain: "Rollback reverts to last known-good release (or uses progressive delivery to reduce need).",
  },
  {
    id: "cicd-19",
    tag: "CI/CD • Medium",
    q: "Which practice helps detect integration issues early when multiple teams commit frequently?",
    options: ["Long-lived feature branches only", "Trunk-based development with CI", "Manual merge once per quarter", "No tests"],
    answer: 1,
    explain: "Trunk-based development + CI reduces divergence and catches issues early.",
  },
  {
    id: "cicd-20",
    tag: "CI/CD • Medium",
    q: "What is the purpose of a quality gate (e.g., SonarQube) in CI?",
    options: ["Deploy faster by skipping tests", "Block merges/releases if quality thresholds fail", "Replace compilation", "Create Docker images"],
    answer: 1,
    explain: "Quality gates enforce standards (coverage, vulnerabilities, code smells) before release.",
  },
  {
    id: "cicd-21",
    tag: "CI/CD • Medium",
    q: "What does 'shift-left testing' mean?",
    options: [
      "Testing only in production",
      "Move testing earlier in the SDLC/pipeline",
      "Skip unit tests",
      "Run tests after customer reports issues",
    ],
    answer: 1,
    explain: "Shift-left means test early (unit/integration) to catch issues sooner.",
  },
  {
    id: "cicd-22",
    tag: "CI/CD • Medium",
    q: "Which is a good reason to use feature flags with CI/CD?",
    options: [
      "Avoid version control",
      "Decouple deployment from release, enable safe rollouts",
      "Remove monitoring",
      "Make builds larger",
    ],
    answer: 1,
    explain: "Feature flags allow shipping code disabled and enabling progressively, reducing risk.",
  },
  {
    id: "cicd-23",
    tag: "CI/CD • Medium",
    q: "In Git-based workflows, what is a protected branch typically used for?",
    options: ["Allow force pushes", "Prevent direct commits and enforce reviews/pipeline", "Disable CI", "Store secrets"],
    answer: 1,
    explain: "Protected branches enforce policies: approvals, passing pipelines, no force pushes.",
  },
  {
    id: "cicd-24",
    tag: "CI/CD • Medium",
    q: "What is the purpose of semantic versioning (SemVer) in releases?",
    options: ["Random numbering", "Communicate backward compatibility via MAJOR.MINOR.PATCH", "Replace changelog", "Avoid tags"],
    answer: 1,
    explain: "SemVer indicates breaking changes, features, and patches via version increments.",
  },
  {
    id: "cicd-25",
    tag: "CI/CD • Medium",
    q: "What is an 'immutable artifact' in CI/CD?",
    options: ["An artifact that changes per environment", "A build output that cannot be modified after creation", "A script file", "A config file in repo"],
    answer: 1,
    explain: "Immutable artifacts are built once and never modified—promoted across environments.",
  },
  {
    id: "cicd-26",
    tag: "CI/CD • Medium",
    q: "Which is a common way to run database migrations safely in CI/CD?",
    options: [
      "Run migrations manually on prod only",
      "Use versioned migration tools (Flyway/Liquibase) with deploy step",
      "Hardcode SQL in app startup without control",
      "Skip migrations",
    ],
    answer: 1,
    explain: "Use Flyway/Liquibase with versioned migrations to apply consistently and safely.",
  },
  {
    id: "cicd-27",
    tag: "CI/CD • Medium",
    q: "What is a pipeline 'approval' or 'manual gate' used for?",
    options: ["Auto-deploy always", "Require human confirmation before critical steps (e.g., prod deploy)", "Skip artifact creation", "Disable logs"],
    answer: 1,
    explain: "Manual gates add control for high-risk stages like production deployments.",
  },
  {
    id: "cicd-28",
    tag: "CI/CD • Medium",
    q: "What is 'Infrastructure as Code' (IaC) in CI/CD context?",
    options: ["Writing infra steps in Word docs", "Provisioning infra using code (Terraform/Bicep/CloudFormation)", "Only manual console clicks", "Only monitoring"],
    answer: 1,
    explain: "IaC manages infrastructure via versioned code integrated into pipelines.",
  },
  {
    id: "cicd-29",
    tag: "CI/CD • Medium",
    q: "Which practice best reduces 'works on my machine' issues?",
    options: ["Manual builds", "Containerize builds using same tooling image", "Disable dependency locking", "No CI"],
    answer: 1,
    explain: "Using containers for build/test standardizes environment and reduces drift.",
  },
  {
    id: "cicd-30",
    tag: "CI/CD • Medium",
    q: "What is a common method for storing pipeline secrets securely?",
    options: ["Plaintext in YAML", "Commit to repo", "Secret manager/CI variables with masking", "Paste into README"],
    answer: 2,
    explain: "Use CI secret variables or external secret manager; mask logs and restrict access.",
  },
  {
    id: "cicd-31",
    tag: "CI/CD • Medium",
    q: "What is the main purpose of pipeline 'artifacts' between jobs?",
    options: [
      "Share build outputs/logs between jobs/stages",
      "Store secrets permanently",
      "Replace version control",
      "Disable caching",
    ],
    answer: 0,
    explain: "Artifacts allow passing compiled outputs, reports, or packages to later stages.",
  },
  {
    id: "cicd-32",
    tag: "CI/CD • Medium",
    q: "Which pipeline metric best indicates how quickly failures are detected after commit?",
    options: ["MTTR", "Lead time for changes", "Time to first red build / feedback time", "Monthly uptime"],
    answer: 2,
    explain: "Fast feedback time is a core CI goal: detect failures soon after commit.",
  },
  {
    id: "cicd-33",
    tag: "CI/CD • Medium",
    q: "What does 'pipeline as code' mean?",
    options: [
      "Pipelines defined in version-controlled files (YAML/Jenkinsfile)",
      "Pipelines configured only in UI",
      "No versioning for pipelines",
      "Hardcoding steps on servers",
    ],
    answer: 0,
    explain: "Pipeline definitions stored as code allow review, history, reuse, and consistency.",
  },
  {
    id: "cicd-34",
    tag: "CI/CD • Medium",
    q: "Which technique helps speed up test suites in CI while maintaining confidence?",
    options: ["Delete tests", "Parallelize tests and split by suites", "Run tests once a month", "Only run UI tests"],
    answer: 1,
    explain: "Parallelizing and splitting tests increases speed while preserving coverage.",
  },
  {
    id: "cicd-35",
    tag: "CI/CD • Medium",
    q: "What is the best way to ensure reproducible builds for Java/Node dependencies?",
    options: ["Always use latest", "Use lock files + pinned versions", "Disable caching and lock files", "Copy from local machine"],
    answer: 1,
    explain: "Pin versions and use lock files (package-lock/yarn.lock) for repeatable builds.",
  },

  // ---------------- Hard (36-50) ----------------
  {
    id: "cicd-36",
    tag: "CI/CD • Hard",
    q: "What is the main security risk of running CI jobs on shared runners without isolation?",
    options: [
      "Slow builds only",
      "Secret leakage or cross-job contamination",
      "More logs",
      "Less caching",
    ],
    answer: 1,
    explain: "Shared environments can leak secrets via logs/files; isolation and least privilege are critical.",
  },
  {
    id: "cicd-37",
    tag: "CI/CD • Hard",
    q: "Which practice best helps prevent supply-chain attacks in CI/CD?",
    options: [
      "Allow any dependency version",
      "Use signed artifacts, dependency pinning, SBOM, and scanning",
      "Disable code review",
      "Store secrets in repo",
    ],
    answer: 1,
    explain: "Pin deps, generate SBOM, scan, and sign/verify artifacts to reduce supply-chain risk.",
  },
  {
    id: "cicd-38",
    tag: "CI/CD • Hard",
    q: "What is an SBOM in the context of modern CI/CD security?",
    options: ["Simple Build Output Manifest", "Software Bill of Materials", "Secure Binary Object Model", "System Backup Operation Method"],
    answer: 1,
    explain: "SBOM lists components/dependencies included in a build—useful for vulnerability management.",
  },
  {
    id: "cicd-39",
    tag: "CI/CD • Hard",
    q: "Why is 'build once, deploy many' important for compliance/auditing?",
    options: [
      "Allows rebuilding in prod",
      "Ensures the exact same artifact was tested and deployed",
      "Avoids versioning",
      "Makes logs smaller",
    ],
    answer: 1,
    explain: "Auditors want proof that tested artifact is identical to deployed artifact across environments.",
  },
  {
    id: "cicd-40",
    tag: "CI/CD • Hard",
    q: "What is the best strategy for zero-downtime DB schema changes in CI/CD?",
    options: [
      "Breaking changes in one deploy",
      "Expand/contract pattern with backward-compatible migrations",
      "Drop columns immediately",
      "Disable DB constraints",
    ],
    answer: 1,
    explain: "Use expand/contract: add new schema, deploy app, migrate data, then remove old schema later.",
  },
  {
    id: "cicd-41",
    tag: "CI/CD • Hard",
    q: "In Kubernetes deployments, what does 'progressive delivery' typically involve?",
    options: ["Deploying at midnight", "Canary/blue-green with metrics-driven promotion/rollback", "Only manual deployments", "Skipping monitoring"],
    answer: 1,
    explain: "Progressive delivery uses gradual rollout + automated analysis to promote or roll back safely.",
  },
  {
    id: "cicd-42",
    tag: "CI/CD • Hard",
    q: "What is the purpose of a 'deployment verification test' (DVT) step?",
    options: ["Build artifacts", "Run smoke/health checks after deploy to validate release", "Rotate secrets", "Create branches"],
    answer: 1,
    explain: "DVT validates the deployed version works (smoke tests, health endpoints, basic flows).",
  },
  {
    id: "cicd-43",
    tag: "CI/CD • Hard",
    q: "Which pattern helps ensure deployments are safe and repeatable in production?",
    options: ["Manual server edits", "GitOps (desired state in Git + reconciler)", "FTP uploads", "One-time scripts on laptop"],
    answer: 1,
    explain: "GitOps uses Git as the source of truth; controllers reconcile cluster state automatically.",
  },
  {
    id: "cicd-44",
    tag: "CI/CD • Hard",
    q: "What is GitOps in a single sentence?",
    options: [
      "Using Git for source code only",
      "Managing infra/app deployments via Git as source of truth with automated reconciliation",
      "Running tests only locally",
      "Storing secrets in Git",
    ],
    answer: 1,
    explain: "GitOps: desired state in Git + automated reconciler to apply changes and keep state consistent.",
  },
  {
    id: "cicd-45",
    tag: "CI/CD • Hard",
    q: "What is the primary reason to sign container images in CI/CD?",
    options: [
      "Make images smaller",
      "Prove image integrity and publisher authenticity",
      "Speed up builds",
      "Avoid tags",
    ],
    answer: 1,
    explain: "Signing helps ensure the image was not tampered with and comes from trusted pipeline.",
  },
  {
    id: "cicd-46",
    tag: "CI/CD • Hard",
    q: "Which control most directly reduces secrets exposure in pipeline logs?",
    options: [
      "Increase verbosity",
      "Mask secrets + avoid echoing + use short-lived tokens",
      "Storeigid tagging",
      "Use longer passwords only",
    ],
    answer: 1,
    explain: "Masking + avoiding printing + using short-lived credentials prevents leaking secrets via logs.",
  },
  {
    id: "cicd-47",
    tag: "CI/CD • Hard",
    q: "What is the best practice for credentials used by CI to deploy to cloud/Kubernetes?",
    options: [
      "Use personal admin account",
      "Use least-privileged service identity + short-lived tokens",
      "Share one root credential for all",
      "Store credentials in code",
    ],
    answer: 1,
    explain: "Use least privilege and short-lived credentials (OIDC federation if available).",
  },
  {
    id: "cicd-48",
    tag: "CI/CD • Hard",
    q: "Which metric measures how long it takes from code committed to running in production?",
    options: ["MTTR", "Lead time for changes", "Error budget", "CPU utilization"],
    answer: 1,
    explain: "Lead time for changes measures commit-to-prod time and is a key DORA metric.",
  },
  {
    id: "cicd-49",
    tag: "CI/CD • Hard",
    q: "Which metric measures how often you deploy to production?",
    options: ["Deployment frequency", "Change failure rate", "MTTR", "Availability"],
    answer: 0,
    explain: "Deployment frequency is a key DORA metric indicating delivery throughput.",
  },
  {
    id: "cicd-50",
    tag: "CI/CD • Hard",
    q: "Which is the best definition of 'change failure rate' (DORA)?",
    options: [
      "Number of PRs merged",
      "Percentage of deployments causing incidents/rollbacks/hotfixes",
      "Pipeline duration",
      "Number of tests executed",
    ],
    answer: 1,
    explain: "Change failure rate is the % of changes that result in degraded service or require remediation.",
  },
];
