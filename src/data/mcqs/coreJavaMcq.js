// src/data/mcqs/coreJavaMcq.js
// 50 Core Java MCQs (Easy/Medium/Hard mix)

export const CORE_JAVA_MCQ = [
  // ---------------- Easy (1-18) ----------------
  {
    id: "cj-mcq-1",
    tag: "Core Java • Easy",
    q: "What is the main purpose of the `final` keyword in Java?",
    options: ["Garbage collection", "Prevent changes", "Enable inheritance", "Enable reflection"],
    answer: 1,
    explain:
      "`final` prevents changes: final variable can't be reassigned, final method can't be overridden, final class can't be extended.",
  },
  {
    id: "cj-mcq-2",
    tag: "Core Java • Easy",
    q: "Which JVM memory area stores objects?",
    options: ["Stack", "Heap", "Program Counter", "Native Method Stack"],
    answer: 1,
    explain: "Objects are allocated on the heap; stack stores method frames and references.",
  },
  {
    id: "cj-mcq-3",
    tag: "Core Java • Easy",
    q: "Which of these is NOT a Java primitive type?",
    options: ["int", "boolean", "String", "double"],
    answer: 2,
    explain: "String is a class (reference type), not a primitive.",
  },
  {
    id: "cj-mcq-4",
    tag: "Core Java • Easy",
    q: "What is the default value of an uninitialized instance int field?",
    options: ["0", "null", "undefined", "1"],
    answer: 0,
    explain: "Instance numeric fields default to 0; references default to null.",
  },
  {
    id: "cj-mcq-5",
    tag: "Core Java • Easy",
    q: "Which keyword is used to inherit a class in Java?",
    options: ["implements", "extends", "inherits", "super"],
    answer: 1,
    explain: "`extends` is used for class inheritance (and interface inheritance).",
  },
  {
    id: "cj-mcq-6",
    tag: "Core Java • Easy",
    q: "Which access modifier makes a member visible only within the same class?",
    options: ["public", "protected", "private", "default"],
    answer: 2,
    explain: "`private` members are accessible only within the declaring class.",
  },
  {
    id: "cj-mcq-7",
    tag: "Core Java • Easy",
    q: "Which statement about `==` and `equals()` is correct?",
    options: [
      "`==` compares content and equals compares reference",
      "`==` compares reference for objects; equals compares content if overridden",
      "Both always compare content",
      "Both always compare reference",
    ],
    answer: 1,
    explain: "For objects, `==` compares references; `equals()` can be overridden for logical equality.",
  },
  {
    id: "cj-mcq-8",
    tag: "Core Java • Easy",
    q: "Which keyword is used to call a parent class constructor?",
    options: ["this()", "super()", "parent()", "base()"],
    answer: 1,
    explain: "`super()` calls the parent constructor; it must be the first statement in a constructor.",
  },
  {
    id: "cj-mcq-9",
    tag: "Core Java • Easy",
    q: "Which collection does NOT allow duplicate elements?",
    options: ["List", "Set", "ArrayList", "LinkedList"],
    answer: 1,
    explain: "A Set does not allow duplicates (as defined by equals/hashCode).",
  },
  {
    id: "cj-mcq-10",
    tag: "Core Java • Easy",
    q: "Which exception is unchecked?",
    options: ["IOException", "SQLException", "NullPointerException", "ClassNotFoundException"],
    answer: 2,
    explain: "NullPointerException extends RuntimeException → unchecked.",
  },
  {
    id: "cj-mcq-11",
    tag: "Core Java • Easy",
    q: "What does JVM stand for?",
    options: ["Java Variable Machine", "Java Virtual Machine", "Java Version Manager", "Just Virtual Memory"],
    answer: 1,
    explain: "JVM = Java Virtual Machine, executes bytecode and manages runtime.",
  },
  {
    id: "cj-mcq-12",
    tag: "Core Java • Easy",
    q: "Which is the correct way to create a String literal?",
    options: ['String s = new String("hi");', 'String s = "hi";', "String s = {hi};", "String s = (hi);"],
    answer: 1,
    explain: 'String literals use double quotes: `String s = "hi";`',
  },
  {
    id: "cj-mcq-13",
    tag: "Core Java • Easy",
    q: "Which statement about String is correct?",
    options: ["String is mutable", "String is immutable", "String is a primitive type", "String is stored on stack only"],
    answer: 1,
    explain: "String is immutable; operations create new objects.",
  },
  {
    id: "cj-mcq-14",
    tag: "Core Java • Easy",
    q: "Which loop will execute at least once?",
    options: ["for", "while", "do-while", "foreach"],
    answer: 2,
    explain: "`do-while` checks condition after executing the body once.",
  },
  {
    id: "cj-mcq-15",
    tag: "Core Java • Easy",
    q: "Which interface is used to sort objects naturally in Java?",
    options: ["Comparator", "Comparable", "Iterable", "Serializable"],
    answer: 1,
    explain: "Comparable defines natural ordering via compareTo().",
  },
  {
    id: "cj-mcq-16",
    tag: "Core Java • Easy",
    q: "Which keyword prevents a method from being overridden?",
    options: ["static", "final", "private", "volatile"],
    answer: 1,
    explain: "final methods cannot be overridden in subclasses.",
  },
  {
    id: "cj-mcq-17",
    tag: "Core Java • Easy",
    q: "Which is correct about constructors?",
    options: [
      "Constructors can be abstract",
      "Constructors have a return type",
      "Constructors initialize objects",
      "Constructors are inherited",
    ],
    answer: 2,
    explain: "Constructors initialize objects and have no return type; they are not inherited.",
  },
  {
    id: "cj-mcq-18",
    tag: "Core Java • Easy",
    q: "What is the correct file extension for compiled Java bytecode?",
    options: [".java", ".class", ".jar", ".exe"],
    answer: 1,
    explain: "Java source compiles to `.class` bytecode files.",
  },

  // ---------------- Medium (19-38) ----------------
  {
    id: "cj-mcq-19",
    tag: "Core Java • Medium",
    q: "Which is true about `HashMap` in Java 8+ when collisions increase?",
    options: [
      "It always uses linked list bins",
      "It converts bins to a Red-Black tree beyond a threshold (if keys are comparable)",
      "It throws an exception",
      "It automatically increases heap size",
    ],
    answer: 1,
    explain: "Java 8 treeifies bins (Red-Black tree) when collision list grows beyond threshold.",
  },
  {
    id: "cj-mcq-20",
    tag: "Core Java • Medium",
    q: "Which statement about `static` methods is correct?",
    options: [
      "They are dynamically dispatched (polymorphic override)",
      "They can be overridden",
      "They are resolved at compile-time (method hiding)",
      "They require object instance to call",
    ],
    answer: 2,
    explain: "Static methods are not overridden; they are hidden and resolved at compile time.",
  },
  {
    id: "cj-mcq-21",
    tag: "Core Java • Medium",
    q: "Which combination enforces immutability best?",
    options: [
      "Non-final class with private fields",
      "final class, private final fields, no setters, defensive copies",
      "Public fields and getters",
      "Using static fields only",
    ],
    answer: 1,
    explain: "Make class final, fields private final, no setters; defensive copies for mutable fields.",
  },
  {
    id: "cj-mcq-22",
    tag: "Core Java • Medium",
    q: "What is the contract between equals() and hashCode()?",
    options: [
      "Unequal objects must have different hashCodes",
      "Equal objects must have the same hashCode",
      "hashCode must be unique always",
      "equals must be transitive only for primitives",
    ],
    answer: 1,
    explain: "If `a.equals(b)` is true, then `a.hashCode() == b.hashCode()` must be true.",
  },
  {
    id: "cj-mcq-23",
    tag: "Core Java • Medium",
    q: "Which collection is best for frequent insertions/removals at the head?",
    options: ["ArrayList", "LinkedList", "HashMap", "TreeSet"],
    answer: 1,
    explain: "LinkedList supports efficient add/remove at ends (O(1)) compared to ArrayList shifts.",
  },
  {
    id: "cj-mcq-24",
    tag: "Core Java • Medium",
    q: "What does `try-with-resources` guarantee?",
    options: [
      "No exceptions thrown",
      "Resources are closed automatically even if exceptions occur",
      "Faster execution always",
      "No need to implement AutoCloseable",
    ],
    answer: 1,
    explain: "Resources implementing AutoCloseable are closed automatically in reverse order.",
  },
  {
    id: "cj-mcq-25",
    tag: "Core Java • Medium",
    q: "Which is true about Java generics?",
    options: [
      "They exist at runtime with full type info always",
      "They are implemented via type erasure",
      "They allow primitives directly",
      "They disable casting forever",
    ],
    answer: 1,
    explain: "Java generics use type erasure; generic type info is mostly removed at runtime.",
  },
  {
    id: "cj-mcq-26",
    tag: "Core Java • Medium",
    q: "What is the output of: `System.out.println(\"a\" + 1 + 2);`?",
    options: ["a3", "a12", "3a", "Compilation error"],
    answer: 1,
    explain: "String concatenation is left-to-right: \"a\"+1 → \"a1\", then +2 → \"a12\".",
  },
  {
    id: "cj-mcq-27",
    tag: "Core Java • Medium",
    q: "Which statement about `StringBuilder` is correct?",
    options: [
      "Immutable and thread-safe",
      "Mutable and not thread-safe",
      "Immutable and not thread-safe",
      "Mutable and thread-safe",
    ],
    answer: 1,
    explain: "StringBuilder is mutable and not synchronized (not thread-safe).",
  },
  {
    id: "cj-mcq-28",
    tag: "Core Java • Medium",
    q: "Which Java feature allows multiple methods with same name but different parameters?",
    options: ["Overriding", "Overloading", "Shadowing", "Hiding"],
    answer: 1,
    explain: "Overloading: same name different parameter list (compile-time).",
  },
  {
    id: "cj-mcq-29",
    tag: "Core Java • Medium",
    q: "Which statement about `Optional` is recommended?",
    options: [
      "Use Optional for fields in entities",
      "Use Optional for method return types to signal absence",
      "Use Optional for every local variable",
      "Serialize Optional directly in APIs always",
    ],
    answer: 1,
    explain: "Optional is best for return types; avoid using it for fields/serialization by default.",
  },
  {
    id: "cj-mcq-30",
    tag: "Core Java • Medium",
    q: "Which Stream operation is terminal?",
    options: ["map", "filter", "collect", "peek"],
    answer: 2,
    explain: "collect is terminal; map/filter/peek are intermediate.",
  },
  {
    id: "cj-mcq-31",
    tag: "Core Java • Medium",
    q: "Which is true about `Collections.unmodifiableList(list)`?",
    options: [
      "It deep-copies the list",
      "It returns a read-only view; underlying list changes may reflect",
      "It makes the list thread-safe",
      "It serializes the list",
    ],
    answer: 1,
    explain: "It’s a wrapper view; modifying underlying list can affect the unmodifiable view.",
  },
  {
    id: "cj-mcq-32",
    tag: "Core Java • Medium",
    q: "Which exception is thrown when casting is invalid?",
    options: ["IllegalArgumentException", "ClassCastException", "NumberFormatException", "NoSuchMethodError"],
    answer: 1,
    explain: "Invalid cast at runtime causes ClassCastException.",
  },
  {
    id: "cj-mcq-33",
    tag: "Core Java • Medium",
    q: "What is the primary difference between `throw` and `throws`?",
    options: [
      "`throw` declares exceptions; `throws` throws them",
      "`throw` throws an exception instance; `throws` declares possible exceptions",
      "Both are identical",
      "`throws` is only for unchecked exceptions",
    ],
    answer: 1,
    explain: "`throw` is used to throw; `throws` in method signature declares possible exceptions.",
  },
  {
    id: "cj-mcq-34",
    tag: "Core Java • Medium",
    q: "Which is true about `interface` methods in Java 8+?",
    options: [
      "Interfaces cannot have any method body",
      "Interfaces can have default and static methods with body",
      "Interfaces can have constructors",
      "Interfaces can extend classes",
    ],
    answer: 1,
    explain: "Java 8 introduced default and static methods with implementation in interfaces.",
  },
  {
    id: "cj-mcq-35",
    tag: "Core Java • Medium",
    q: "What is the result of calling `intern()` on a String?",
    options: [
      "Creates a new String always",
      "Returns a canonical string from the string pool",
      "Deletes the string from heap",
      "Makes the string mutable",
    ],
    answer: 1,
    explain: "intern() returns pooled canonical representation (may add to pool if absent).",
  },
  {
    id: "cj-mcq-36",
    tag: "Core Java • Medium",
    q: "Which statement about `volatile` is correct?",
    options: [
      "It guarantees atomicity for all operations",
      "It guarantees visibility of writes across threads",
      "It replaces synchronized in all cases",
      "It prevents context switches",
    ],
    answer: 1,
    explain: "volatile ensures visibility and ordering, not atomicity for compound operations.",
  },
  {
    id: "cj-mcq-37",
    tag: "Core Java • Medium",
    q: "Which of the following is a functional interface?",
    options: ["Runnable", "List", "Map", "Serializable"],
    answer: 0,
    explain: "Runnable has a single abstract method `run()` (functional interface).",
  },
  {
    id: "cj-mcq-38",
    tag: "Core Java • Medium",
    q: "What does `finalize()` relate to (historically)?",
    options: ["Thread lifecycle", "Object cleanup before GC (deprecated approach)", "JIT compilation", "Class loading"],
    answer: 1,
    explain: "finalize() was for cleanup but is deprecated; use AutoCloseable/try-with-resources.",
  },

  // ---------------- Hard (39-50) ----------------
  {
    id: "cj-mcq-39",
    tag: "Core Java • Hard",
    q: "What is the Java Memory Model 'happens-before' primarily about?",
    options: [
      "Heap allocation strategy",
      "Visibility and ordering guarantees between threads",
      "Garbage collection algorithm selection",
      "CPU instruction set",
    ],
    answer: 1,
    explain: "Happens-before defines when writes by one thread become visible to another with ordering guarantees.",
  },
  {
    id: "cj-mcq-40",
    tag: "Core Java • Hard",
    q: "Which is true about `AtomicInteger.incrementAndGet()`?",
    options: [
      "It uses locking always",
      "It uses CAS (compare-and-swap) for lock-free atomic updates",
      "It is not thread-safe",
      "It updates only in synchronized blocks",
    ],
    answer: 1,
    explain: "Atomic classes typically use CAS operations for lock-free atomicity.",
  },
  {
    id: "cj-mcq-41",
    tag: "Core Java • Hard",
    q: "What is the key difference between `synchronized` and `ReentrantLock`?",
    options: [
      "ReentrantLock cannot be re-entered",
      "ReentrantLock supports tryLock/interruptible/fairness; synchronized is simpler monitor lock",
      "synchronized is faster always",
      "synchronized supports multiple conditions easily",
    ],
    answer: 1,
    explain: "ReentrantLock offers advanced features; synchronized is simpler and auto-releases.",
  },
  {
    id: "cj-mcq-42",
    tag: "Core Java • Hard",
    q: "What is a safe publication technique for shared objects?",
    options: [
      "Store in a non-volatile field without synchronization",
      "Publish via volatile field, final fields, or within synchronized block",
      "Only publish via toString()",
      "Publish through random delay",
    ],
    answer: 1,
    explain: "Safe publication uses happens-before: volatile, final fields, synchronized, static initialization.",
  },
  {
    id: "cj-mcq-43",
    tag: "Core Java • Hard",
    q: "Which is true about `ConcurrentHashMap` (Java 8+)?",
    options: [
      "It locks the whole map for reads/writes",
      "It uses synchronized on every method",
      "It uses finer-grained locking/CAS; no global lock for common ops",
      "It is not thread-safe",
    ],
    answer: 2,
    explain: "Java 8 uses CAS and synchronized per bin where needed; high concurrency without global lock.",
  },
  {
    id: "cj-mcq-44",
    tag: "Core Java • Hard",
    q: "Which best describes a deadlock?",
    options: [
      "A thread running too fast",
      "Two or more threads waiting forever for each other's locks",
      "A garbage collection pause",
      "A stack overflow",
    ],
    answer: 1,
    explain: "Deadlock happens when threads hold locks and wait circularly, so none can proceed.",
  },
  {
    id: "cj-mcq-45",
    tag: "Core Java • Hard",
    q: "Which statement about `ThreadLocal` is correct?",
    options: [
      "Shares a value across all threads",
      "Stores per-thread values, useful for request context but must be cleaned to avoid leaks",
      "Replaces synchronization always",
      "Only works with virtual threads",
    ],
    answer: 1,
    explain: "ThreadLocal holds data per thread; in pools, clear it to avoid memory leaks/context bleed.",
  },
  {
    id: "cj-mcq-46",
    tag: "Core Java • Hard",
    q: "What is the difference between shallow copy and deep copy?",
    options: [
      "Shallow copy clones nested objects fully; deep copy shares references",
      "Shallow copy copies top-level and shares nested references; deep copy recursively copies nested objects",
      "Both are the same",
      "Deep copy is only possible with serialization",
    ],
    answer: 1,
    explain: "Shallow copy shares nested references; deep copy creates independent nested copies.",
  },
  {
    id: "cj-mcq-47",
    tag: "Core Java • Hard",
    q: "Which is a valid use-case of `CompletableFuture`?",
    options: [
      "Synchronous blocking only",
      "Async composition (thenApply/thenCompose) and combining futures (allOf/anyOf)",
      "Replacing generics",
      "Replacing JVM GC",
    ],
    answer: 1,
    explain: "CompletableFuture enables async pipelines and combining tasks with functional composition.",
  },
  {
    id: "cj-mcq-48",
    tag: "Core Java • Hard",
    q: "Which is true about `Stream.parallel()`?",
    options: [
      "Always faster than sequential",
      "Uses ForkJoinPool common pool by default",
      "Guarantees ordering of side effects",
      "Works only for IO",
    ],
    answer: 1,
    explain: "Parallel streams use the common ForkJoinPool; speed depends on workload and overhead.",
  },
  {
    id: "cj-mcq-49",
    tag: "Core Java • Hard",
    q: "What is a common pitfall when using `hashCode()` with mutable fields?",
    options: [
      "It improves performance",
      "Changing fields used in hashCode breaks HashMap/HashSet lookup",
      "It makes equals faster always",
      "No issues at all",
    ],
    answer: 1,
    explain: "If key’s hashCode changes after insertion, it may become unreachable in hash-based collections.",
  },
  {
    id: "cj-mcq-50",
    tag: "Core Java • Hard",
    q: "Which statement about class loading is correct?",
    options: [
      "Classes are loaded only by Bootstrap classloader",
      "Class loading can be delegated: parent-first delegation model",
      "Classes cannot be unloaded",
      "Classloader is part of java.lang.String only",
    ],
    answer: 1,
    explain: "Java uses delegation: child asks parent first (usually). Classes may be unloaded when classloader is GC'd.",
  },
];
