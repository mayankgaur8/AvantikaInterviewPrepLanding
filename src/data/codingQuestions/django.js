const django = [
  { id: 'django-1', title: 'Simple view returning text', statement: 'Create a Django view that returns "Hello World" at path /hello.', language: 'python', solution: `from django.http import HttpResponse\n\ndef hello(request):\n    return HttpResponse("Hello World")` },
  { id: 'django-2', title: 'URL routing', statement: 'Add a URL pattern for /greet/<name>/ that maps to a view and returns a greeting.', language: 'python', solution: `# urls.py\nfrom django.urls import path\nfrom . import views\nurlpatterns = [ path('greet/<str:name>/', views.greet, name='greet'), ]\n\n# views.py\ndef greet(request, name):\n    return HttpResponse(f"Hello {name}")` },
  { id: 'django-3', title: 'Model + admin registration', statement: 'Create Post model (title, body) and register it in admin.', language: 'python', solution: `# models.py\nfrom django.db import models\nclass Post(models.Model):\n    title = models.CharField(max_length=200)\n    body = models.TextField()\n\n# admin.py\nfrom django.contrib import admin\nfrom .models import Post\nadmin.site.register(Post)` },
  { id: 'django-4', title: 'Form handling (basic)', statement: 'Implement a view that shows a form (name) and displays a greeting after POST.', language: 'python', solution: `# forms.py\nfrom django import forms\nclass NameForm(forms.Form):\n    name = forms.CharField(max_length=100)\n\n# views.py\nfrom django.shortcuts import render\nfrom .forms import NameForm\n\ndef form_view(request):\n    if request.method=='POST':\n        form = NameForm(request.POST)\n        if form.is_valid():\n            return render(request,'greet.html',{'name':form.cleaned_data['name']})\n    else:\n        form = NameForm()\n    return render(request,'form.html',{'form':form})` },
  { id: 'django-5', title: 'Class-based view (ListView)', statement: 'Create a ListView for Post model with pagination.', language: 'python', solution: `from django.views.generic import ListView\nfrom .models import Post\nclass PostListView(ListView):\n    model = Post\n    paginate_by = 10\n# urls: path('', PostListView.as_view())` },
  { id: 'django-6', title: 'DRF ViewSet (basic)', statement: 'Create a Django REST Framework ViewSet for Post with list/retrieve.', language: 'python', solution: `from rest_framework import viewsets, serializers\nfrom .models import Post\nclass PostSerializer(serializers.ModelSerializer):\n    class Meta: model=Post; fields='__all__'\nclass PostViewSet(viewsets.ModelViewSet):\n    queryset=Post.objects.all(); serializer_class=PostSerializer\n# router.register(r'posts', PostViewSet)` },
  { id: 'django-7', title: 'Serializer validation', statement: 'Add custom validation to serializer to require title length > 3.', language: 'python', solution: `class PostSerializer(serializers.ModelSerializer):\n    class Meta: model=Post; fields='__all__'\n    def validate_title(self, value):\n        if len(value)<4: raise serializers.ValidationError('title too short')\n        return value` },
  { id: 'django-8', title: 'Query optimization (select_related)', statement: 'Efficiently fetch posts with author using select_related.', language: 'python', solution: `posts = Post.objects.select_related('author').all()` },
  { id: 'django-9', title: 'Prefetch_related usage', statement: 'Prefetch many-to-many relations when listing objects.', language: 'python', solution: `posts = Post.objects.prefetch_related('tags').all()` },
  { id: 'django-10', title: 'Custom management command', statement: 'Write a management command that prints number of users.', language: 'python', solution: `# management/commands/count_users.py\nfrom django.core.management.base import BaseCommand\nfrom django.contrib.auth import get_user_model\nclass Command(BaseCommand):\n    def handle(self, *args, **opts):\n        User=get_user_model(); self.stdout.write(str(User.objects.count()))` },
  { id: 'django-11', title: 'Middleware example', statement: 'Implement middleware that logs request path and duration.', language: 'python', solution: `import time\nclass TimingMiddleware:\n    def __init__(self,get_response):\n        self.get_response=get_response\n    def __call__(self,request):\n        start=time.time(); response=self.get_response(request);\n        duration=time.time()-start; print(request.path, duration); return response` },
  { id: 'django-12', title: 'Signals (post_save)', statement: 'Use post_save signal to send welcome email after user creation (sketch).', language: 'python', solution: `from django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom django.contrib.auth import get_user_model\n@receiver(post_save, sender=get_user_model())\ndef welcome(sender, instance, created, **kwargs):\n    if created: send_mail('Welcome', 'hello', 'from@x', [instance.email])` },
  { id: 'django-13', title: 'Custom user model', statement: 'Create a simple custom user model using AbstractUser.', language: 'python', solution: `from django.contrib.auth.models import AbstractUser\nclass User(AbstractUser):\n    bio = models.TextField(blank=True)\n# settings: AUTH_USER_MODEL='app.User'` },
  { id: 'django-14', title: 'Transactions', statement: 'Use @transaction.atomic to wrap multiple DB operations.', language: 'python', solution: `from django.db import transaction\n@transaction.atomic\ndef transfer(a,b,amt):\n    a.balance -= amt; b.balance += amt; a.save(); b.save()` },
  { id: 'django-15', title: 'Pagination in DRF', statement: 'Configure page number pagination and use in API.', language: 'python', solution: `# settings.py\nREST_FRAMEWORK = { 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10 }` },
  { id: 'django-16', title: 'Filtering with django-filter', statement: 'Add filtering to a DRF ViewSet for fields like author and date.', language: 'python', solution: `from django_filters.rest_framework import DjangoFilterBackend\nclass PostViewSet(viewsets.ModelViewSet):\n    filter_backends=[DjangoFilterBackend]; filterset_fields=['author','created']` },
  { id: 'django-17', title: 'Atomic bulk create', statement: 'Insert many objects efficiently using bulk_create.', language: 'python', solution: `objs=[Post(title=f't{i}') for i in range(1000)]; Post.objects.bulk_create(objs)` },
  { id: 'django-18', title: 'Raw SQL usage', statement: 'Execute a raw SQL query and map to model instances.', language: 'python', solution: `qs = Post.objects.raw('SELECT id, title FROM app_post WHERE title LIKE %s', ['%hello%'])\nfor p in qs: print(p.title)` },
  { id: 'django-19', title: 'Caching view results with cache_page', statement: 'Cache a view for 60 seconds using cache_page decorator.', language: 'python', solution: `from django.views.decorators.cache import cache_page\n@cache_page(60)\ndef view(request):\n    ...` },
  { id: 'django-20', title: 'Low-level cache usage', statement: 'Use Redis cache to store and retrieve values.', language: 'python', solution: `from django.core.cache import cache\ncache.set('k','v', timeout=60)\nval = cache.get('k')` },
  { id: 'django-21', title: 'File upload handling', statement: 'Accept file upload via form and save to model FileField.', language: 'python', solution: `# models\nclass Upload(models.Model): file=models.FileField(upload_to='uploads/')\n# view\nif request.method=='POST': Upload.objects.create(file=request.FILES['file'])` },
  { id: 'django-22', title: 'Serving static files in production', statement: 'Explain using WhiteNoise to serve static files from Django in production.', language: 'text', solution: `Install whitenoise and add 'whitenoise.middleware.WhiteNoiseMiddleware' to MIDDLEWARE; run collectstatic and serve static files from the built-in static handler.` },
  { id: 'django-23', title: 'Email sending', statement: 'Send a simple email using send_mail in Django.', language: 'python', solution: `from django.core.mail import send_mail\nsend_mail('Subject','Body','from@x',['to@x'], fail_silently=False)` },
  { id: 'django-24', title: 'Unit test a view', statement: 'Use Django TestCase and client to test GET /hello returns 200.', language: 'python', solution: `from django.test import TestCase\nclass HelloTest(TestCase):\n    def test_hello(self):\n        r=self.client.get('/hello/')\n        self.assertEqual(r.status_code,200)` },
  { id: 'django-25', title: 'Factory vs fixtures', statement: 'Use Factory Boy to create test data instead of fixtures (example factory).', language: 'python', solution: `import factory\nfrom .models import Post\nclass PostFactory(factory.django.DjangoModelFactory):\n    class Meta: model=Post\n    title = factory.Faker('sentence')` },
  { id: 'django-26', title: 'Django admin customisation', statement: 'Customize admin list_display and search_fields for Post.', language: 'python', solution: `@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    list_display=('id','title','author')\n    search_fields=('title','body')` },
  { id: 'django-27', title: 'Signals vs overriding save', statement: 'When to use signals vs model.save override; give a small example of save override.', language: 'text', solution: `Override save when logic is tightly coupled to model; use signals when decoupled. Example: def save(self,*a,**k): self.slug=slugify(self.title); super().save(*a,**k)` },
  { id: 'django-28', title: 'Custom management command with args', statement: 'Create a management command that accepts --dry-run flag.', language: 'python', solution: `class Command(BaseCommand):\n    def add_arguments(self, parser): parser.add_argument('--dry-run', action='store_true')\n    def handle(self,*a,**k): if k['dry_run']: print('dry')` },
  { id: 'django-29', title: 'Django migrations (data migration)', statement: 'Write a data migration to populate a new field from existing data.', language: 'python', solution: `# migration operations.RunPython(populate_field)\ndef populate_field(apps,schema):\n    Post=apps.get_model('app','Post')\n    for p in Post.objects.all(): p.new = p.title[:10]; p.save()` },
  { id: 'django-30', title: 'Asynchronous view (async def)', statement: 'Create an async view that awaits an async HTTP call with httpx.', language: 'python', solution: `import httpx\nasync def av(request):\n    async with httpx.AsyncClient() as c:\n        r = await c.get('https://httpbin.org/get')\n    return HttpResponse(r.text)` },
  { id: 'django-31', title: 'Django Channels basic', statement: 'Define a simple WebSocket consumer that echoes messages.', language: 'python', solution: `from channels.generic.websocket import AsyncWebsocketConsumer\nclass EchoConsumer(AsyncWebsocketConsumer):\n    async def connect(self): await self.accept()\n    async def receive(self, text_data): await self.send(text_data=text_data)` },
  { id: 'django-32', title: 'Celery task example', statement: 'Define a simple Celery task and call it asynchronously.', language: 'python', solution: `# tasks.py\nfrom celery import shared_task\n@shared_task\ndef add(a,b): return a+b\n# call: add.delay(1,2)` },
  { id: 'django-33', title: 'Django REST throttling', statement: 'Configure throttling in DRF to limit requests per user.', language: 'python', solution: `REST_FRAMEWORK={'DEFAULT_THROTTLE_CLASSES':['rest_framework.throttling.UserRateThrottle'],'DEFAULT_THROTTLE_RATES':{'user':'100/day'}}` },
  { id: 'django-34', title: 'Token authentication', statement: 'Enable token authentication and show how to obtain a token.', language: 'python', solution: `# use rest_framework.authtoken\n# obtain token via /api-token-auth/ with username/password; include Token <key> in Authorization header` },
  { id: 'django-35', title: 'JWT auth (simple flow)', statement: 'Sketch JWT authentication flow using Simple JWT for DRF.', language: 'text', solution: `Install djangorestframework-simplejwt; configure authentication classes; POST credentials to /token/ to receive access/refresh tokens; use Bearer token.` },
  { id: 'django-36', title: 'Custom permission in DRF', statement: 'Create a permission class allowing only authors to edit their posts.', language: 'python', solution: `from rest_framework.permissions import BasePermission\nclass IsAuthor(BasePermission):\n    def has_object_permission(self, request, view, obj):\n        return obj.author == request.user` },
  { id: 'django-37', title: 'Serializer method field', statement: 'Add a computed field to serializer showing summary of body.', language: 'python', solution: `class PostSerializer(serializers.ModelSerializer):\n    summary = serializers.SerializerMethodField()\n    def get_summary(self,obj): return obj.body[:50]` },
  { id: 'django-38', title: 'Conditional select_related', statement: 'Use conditional logic to add select_related only when needed.', language: 'python', solution: `qs = Post.objects.all()\nif include_author: qs = qs.select_related('author')` },
  { id: 'django-39', title: 'Database index creation', statement: 'Add an index on Post.created field and explain migration.', language: 'python', solution: `class Post(models.Model):\n    created = models.DateTimeField(auto_now_add=True)\n    class Meta: indexes = [models.Index(fields=['created'])]` },
  { id: 'django-40', title: 'Optimistic locking pattern', statement: 'Add a version integer to detect concurrent updates and handle conflicts.', language: 'python', solution: `class Item(models.Model):\n    version = models.PositiveIntegerField(default=0)\n    def save(self,*a,**k):\n        if self.pk:\n            updated = Item.objects.filter(pk=self.pk, version=self.version).update(..., version=self.version+1)\n            if not updated: raise Exception('Conflict')\n        else:\n            super().save(*a,**k)` },
  { id: 'django-41', title: 'Complex ORM query (annotations)', statement: 'Annotate each user with post_count using annotate and Count.', language: 'python', solution: `from django.db.models import Count\nUser.objects.annotate(post_count=Count('post'))` },
  { id: 'django-42', title: 'Raw manager for complex queries', statement: 'Create a custom manager method that runs raw SQL and returns mapped objects.', language: 'python', solution: `class PostManager(models.Manager):\n    def top_tags(self):\n        return self.raw('SELECT id, title FROM app_post ORDER BY created DESC LIMIT 10')` },
  { id: 'django-43', title: 'Cross-site request forgery (CSRF)', statement: 'Explain how Django protects against CSRF and how to exempt an API view.', language: 'text', solution: `Django uses CSRF middleware + token in forms. To exempt: from django.views.decorators.csrf import csrf_exempt; @csrf_exempt def view(request): ...` },
  { id: 'django-44', title: 'Content Security Policy headers', statement: 'Add CSP headers using middleware to mitigate XSS.', language: 'python', solution: `class CSPMiddleware:\n    def __init__(self,get_response): self.get_response=get_response\n    def __call__(self,req): r=self.get_response(req); r['Content-Security-Policy']="default-src 'self'"; return r` },
  { id: 'django-45', title: 'Search integration (Postgres trigram)', statement: 'Use pg_trgm extension to perform similarity search on title.', language: 'text', solution: `Enable pg_trgm, add GIN index with gin_trgm_ops and use TrigramSimilarity in Django to order by similarity.` },
  { id: 'django-46', title: 'Database connection management', statement: 'Close old DB connections in long-running processes (manage DB connections in Celery).', language: 'python', solution: `from django.db import connection\nconnection.close_if_unusable_or_obsolete()` },
  { id: 'django-47', title: 'Handling large querysets', statement: 'Iterate large queryset without loading all rows into memory using iterator().', language: 'python', solution: `for p in Post.objects.iterator(chunk_size=1000): process(p)` },
  { id: 'django-48', title: 'Rate limiting per view (simple)', statement: 'Implement a simple per-IP rate limiter using cache in a view decorator.', language: 'python', solution: `from django.core.cache import cache\ndef rate_limit(func):\n    def wrapper(req,*a,**k):\n        key='rl:'+req.META['REMOTE_ADDR']\n        cnt = cache.get(key,0)\n        if cnt>100: return HttpResponse('Too many', status=429)\n        cache.incr(key,1); cache.expire(key,60)\n        return func(req,*a,**k)\n    return wrapper` },
  { id: 'django-49', title: 'Custom template tag', statement: 'Create a simple template tag that uppercases text.', language: 'python', solution: `# templatetags/uppercase.py\nfrom django import template\nregister = template.Library()\n@register.filter\ndef up(value): return value.upper()` },
  { id: 'django-50', title: 'Deploy with gunicorn and environment settings', statement: 'Show a minimal gunicorn command and using environment variables for settings.', language: 'text', solution: `Use gunicorn myproject.wsgi:application --workers 3 --bind 0.0.0.0:8000; configure settings via env vars (DJANGO_SETTINGS_MODULE, DATABASE_URL) and use django-environ or os.environ in settings.py.` }
];

export default django;
