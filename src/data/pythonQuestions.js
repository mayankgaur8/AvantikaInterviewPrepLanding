// src/data/pythonQuestions.js
export const PYTHON_QUESTIONS = [
  // ===== BASIC =====
  {
    id: "py-b-1",
    level: "Basic",
    q: "What is Python and why is it popular?",
    a: "Python is a high-level, interpreted language known for readability, vast libraries, and strong community support—used in web, automation, data, and AI.",
  },
  {
    id: "py-b-2",
    level: "Basic",
    q: "What are Python’s key features?",
    a: "Dynamic typing, interpreted execution, rich standard library, multi-paradigm (OOP/functional), and cross-platform support.",
  },
  {
    id: "py-b-3",
    level: "Basic",
    q: "What is the difference between list and tuple?",
    a: "List is mutable (can change), tuple is immutable (cannot change). Tuples are hashable (if items are hashable) and often faster for fixed data.",
  },
  {
    id: "py-b-4",
    level: "Basic",
    q: "What is a dictionary in Python?",
    a: "A dict is a key-value mapping (hash table) providing average O(1) lookup/insert/delete by key.",
  },
  {
    id: "py-b-5",
    level: "Basic",
    q: "Explain Python indentation rules.",
    a: "Indentation defines code blocks (instead of braces). Consistent indentation (commonly 4 spaces) is required; mixing tabs/spaces can cause errors.",
  },
  {
    id: "py-b-6",
    level: "Basic",
    q: "What are Python built-in data types?",
    a: "int, float, bool, str, list, tuple, set, dict, NoneType, bytes/bytearray, range, complex.",
  },
  {
    id: "py-b-7",
    level: "Basic",
    q: "How do you handle user input in Python?",
    a: "Use input() which returns a string; cast to needed type (int/float) as required.\n\nExample:\n```python\nage = int(input('Enter age: '))\n```",
  },
  {
    id: "py-b-8",
    level: "Basic",
    q: "What is slicing in Python?",
    a: "Slicing extracts a portion of sequences using [start:stop:step]. stop is exclusive.\n\nExample:\n```python\ns='abcdef'\nprint(s[1:4])  # bcd\n```",
  },
  {
    id: "py-b-9",
    level: "Basic",
    q: "What is a function in Python?",
    a: "A reusable block defined using def. Python supports default args, keyword args, *args, **kwargs.\n\nExample:\n```python\ndef add(a,b=0):\n  return a+b\n```",
  },
  {
    id: "py-b-10",
    level: "Basic",
    q: "What is the difference between '==' and 'is'?",
    a: "'==' checks value equality; 'is' checks identity (same object in memory).\n\nExample:\n```python\na=[1]; b=[1]\nprint(a==b)  # True\nprint(a is b) # False\n```",
  },
  {
    id: "py-b-11",
    level: "Basic",
    q: "Explain for-else in Python.",
    a: "The else block runs if the loop completes without hitting break.\n\nExample:\n```python\nfor x in [1,2,3]:\n  if x==4:\n    break\nelse:\n  print('not found')\n```",
  },
  {
    id: "py-b-12",
    level: "Basic",
    q: "How do you read and write files in Python?",
    a: "Use open() with context manager.\n\nExample:\n```python\nwith open('a.txt','w') as f:\n  f.write('hi')\nwith open('a.txt') as f:\n  print(f.read())\n```",
  },
  {
    id: "py-b-13",
    level: "Basic",
    q: "What are exceptions? How do you handle them?",
    a: "Exceptions are runtime errors. Use try/except/finally.\n\nExample:\n```python\ntry:\n  x=1/0\nexcept ZeroDivisionError:\n  print('cannot divide')\n```",
  },
  {
    id: "py-b-14",
    level: "Basic",
    q: "What is list comprehension?",
    a: "A concise way to build lists.\n\nExample:\n```python\nsquares = [x*x for x in range(5)]\n```",
  },
  {
    id: "py-b-15",
    level: "Basic",
    q: "What is a set and when to use it?",
    a: "Set is an unordered collection of unique elements; great for membership checks and de-duplication.",
  },
  {
    id: "py-b-16",
    level: "Basic",
    q: "What is the purpose of __name__ == '__main__'?",
    a: "It ensures code runs only when the file is executed directly, not when imported as a module.",
  },
  {
    id: "py-b-17",
    level: "Basic",
    q: "How do you install packages in Python?",
    a: "Use pip: `pip install package_name`. Prefer virtual environments for isolation.",
  },

  // ===== INTERMEDIATE =====
  {
    id: "py-i-1",
    level: "Intermediate",
    q: "Explain *args and **kwargs.",
    a: "*args collects extra positional arguments as a tuple; **kwargs collects extra keyword args as a dict.\n\nExample:\n```python\ndef f(*args, **kwargs):\n  return args, kwargs\n```",
  },
  {
    id: "py-i-2",
    level: "Intermediate",
    q: "What are decorators in Python?",
    a: "Decorators wrap functions/classes to add behavior without modifying original code.\n\nExample:\n```python\ndef log(fn):\n  def wrapper(*a, **k):\n    print('calling', fn.__name__)\n    return fn(*a, **k)\n  return wrapper\n\n@log\ndef add(a,b):\n  return a+b\n```",
  },
  {
    id: "py-i-3",
    level: "Intermediate",
    q: "What is a generator and yield?",
    a: "Generators produce items lazily using yield, saving memory.\n\nExample:\n```python\ndef gen(n):\n  for i in range(n):\n    yield i*i\n```",
  },
  {
    id: "py-i-4",
    level: "Intermediate",
    q: "Difference between iterator and iterable?",
    a: "Iterable can return an iterator (implements __iter__). Iterator yields values (implements __next__).",
  },
  {
    id: "py-i-5",
    level: "Intermediate",
    q: "Explain shallow vs deep copy in Python.",
    a: "Shallow copy copies container but shares nested references; deep copy recursively copies nested objects.\n\nExample:\n```python\nimport copy\nx=[[1],[2]]\ny=copy.copy(x)\nz=copy.deepcopy(x)\n```",
  },
  {
    id: "py-i-6",
    level: "Intermediate",
    q: "What is the Global Interpreter Lock (GIL)?",
    a: "GIL allows only one thread to execute Python bytecode at a time (CPython). Threading helps I/O-bound tasks; multiprocessing helps CPU-bound.",
  },
  {
    id: "py-i-7",
    level: "Intermediate",
    q: "How do you manage virtual environments?",
    a: "Use venv/virtualenv/conda.\n\nExample:\n```bash\npython -m venv .venv\nsource .venv/bin/activate\npip install -r requirements.txt\n```",
  },
  {
    id: "py-i-8",
    level: "Intermediate",
    q: "Explain context managers and the 'with' statement.",
    a: "Context managers ensure setup/cleanup via __enter__/__exit__.\n\nExample:\n```python\nfrom contextlib import contextmanager\n\n@contextmanager\ndef tag(name):\n  print('start', name)\n  yield\n  print('end', name)\n\nwith tag('X'):\n  print('work')\n```",
  },
  {
    id: "py-i-9",
    level: "Intermediate",
    q: "What are dataclasses?",
    a: "dataclasses auto-generate boilerplate (init, repr, eq) for classes.\n\nExample:\n```python\nfrom dataclasses import dataclass\n\n@dataclass\nclass User:\n  id: int\n  name: str\n```",
  },
  {
    id: "py-i-10",
    level: "Intermediate",
    q: "Explain Python’s mutable default argument pitfall.",
    a: "Default args are evaluated once, so mutable defaults can be shared across calls.\n\nExample:\n```python\ndef add_item(x, items=[]):\n  items.append(x)\n  return items\n# Fix: items=None; create new list inside\n```",
  },
  {
    id: "py-i-11",
    level: "Intermediate",
    q: "How does exception chaining work?",
    a: "Use `raise ... from ...` to preserve original cause.\n\nExample:\n```python\ntry:\n  int('x')\nexcept ValueError as e:\n  raise RuntimeError('bad input') from e\n```",
  },
  {
    id: "py-i-12",
    level: "Intermediate",
    q: "What is unpacking in Python?",
    a: "Assign multiple values at once, including starred unpacking.\n\nExample:\n```python\na,b,*rest = [1,2,3,4]\n```",
  },
  {
    id: "py-i-13",
    level: "Intermediate",
    q: "Explain lambda and where to use it.",
    a: "Anonymous small function; useful for short callbacks.\n\nExample:\n```python\nsorted(items, key=lambda x: x['age'])\n```",
  },
  {
    id: "py-i-14",
    level: "Intermediate",
    q: "How do you handle JSON in Python?",
    a: "Use json module.\n\nExample:\n```python\nimport json\ns=json.dumps({'a':1})\nd=json.loads(s)\n```",
  },
  {
    id: "py-i-15",
    level: "Intermediate",
    q: "What is multiprocessing and when to use it?",
    a: "multiprocessing runs tasks in separate processes to bypass GIL for CPU-bound workloads.",
  },
  {
    id: "py-i-16",
    level: "Intermediate",
    q: "What are Python type hints?",
    a: "Optional annotations for readability and tooling (mypy, IDE).\n\nExample:\n```python\ndef add(a:int, b:int) -> int:\n  return a+b\n```",
  },
  {
    id: "py-i-17",
    level: "Intermediate",
    q: "How does Python’s garbage collection work?",
    a: "Reference counting + cyclic GC. When ref count drops to zero object is freed; cyclic GC detects reference cycles.",
  },

  // ===== ADVANCED =====
  {
    id: "py-a-1",
    level: "Advanced",
    q: "Explain Python’s memory model (stack/heap) at a high level.",
    a: "Objects live on the heap, names are references. CPython uses reference counting; frames store local references; GC handles cycles.",
  },
  {
    id: "py-a-2",
    level: "Advanced",
    q: "What is metaclass in Python?",
    a: "A metaclass defines how classes are created (class of a class). Use for frameworks, validation, auto-registration.\n\nExample:\n```python\nclass Meta(type):\n  def __new__(m, name, bases, ns):\n    ns['tag'] = name.lower()\n    return super().__new__(m, name, bases, ns)\n\nclass A(metaclass=Meta):\n  pass\nprint(A.tag)  # 'a'\n```",
  },
  {
    id: "py-a-3",
    level: "Advanced",
    q: "Explain descriptors in Python.",
    a: "Descriptors customize attribute access using __get__, __set__, __delete__. Used by @property, ORM fields.\n\nExample:\n```python\nclass Positive:\n  def __set__(self, obj, value):\n    if value <= 0: raise ValueError()\n    obj.__dict__['x'] = value\n  def __get__(self, obj, objtype=None):\n    return obj.__dict__.get('x')\n\nclass A:\n  x = Positive()\n```",
  },
  {
    id: "py-a-4",
    level: "Advanced",
    q: "What is asyncio and when to use it?",
    a: "asyncio is single-threaded cooperative concurrency for I/O-bound tasks using async/await.\n\nExample:\n```python\nimport asyncio\n\nasync def fetch():\n  await asyncio.sleep(1)\n  return 'ok'\n\nprint(asyncio.run(fetch()))\n```",
  },
  {
    id: "py-a-5",
    level: "Advanced",
    q: "Explain event loop in asyncio.",
    a: "Event loop schedules and runs coroutines, handles I/O readiness, timers, and task callbacks.",
  },
  {
    id: "py-a-6",
    level: "Advanced",
    q: "How do you create async concurrency with gather?",
    a: "Use asyncio.gather to run coroutines concurrently.\n\nExample:\n```python\nimport asyncio\n\nasync def work(i):\n  await asyncio.sleep(0.1)\n  return i\n\nasync def main():\n  res = await asyncio.gather(*(work(i) for i in range(5)))\n  print(res)\n\nasyncio.run(main())\n```",
  },
  {
    id: "py-a-7",
    level: "Advanced",
    q: "Explain monkey patching and risks.",
    a: "Replacing attributes/functions at runtime. Risks: unpredictable behavior, harder debugging, breaks contracts in upgrades.",
  },
  {
    id: "py-a-8",
    level: "Advanced",
    q: "What is MRO (Method Resolution Order)?",
    a: "The order Python uses to resolve methods in multiple inheritance (C3 linearization). Use Class.mro() to inspect.",
  },
  {
    id: "py-a-9",
    level: "Advanced",
    q: "Explain __slots__ and when to use it.",
    a: "__slots__ prevents per-instance __dict__ to save memory and speed attribute access; reduces flexibility.\n\nExample:\n```python\nclass A:\n  __slots__ = ('x','y')\n  def __init__(self,x,y):\n    self.x=x; self.y=y\n```",
  },
  {
    id: "py-a-10",
    level: "Advanced",
    q: "How do you implement a custom context manager class?",
    a: "Implement __enter__ and __exit__.\n\nExample:\n```python\nclass Timer:\n  def __enter__(self):\n    import time; self.t=time.time(); return self\n  def __exit__(self, exc_type, exc, tb):\n    import time; print('ms', (time.time()-self.t)*1000)\n\nwith Timer():\n  sum(range(100000))\n```",
  },
  {
    id: "py-a-11",
    level: "Advanced",
    q: "What is the difference between threading and asyncio?",
    a: "Threading uses OS threads (good for blocking I/O). asyncio uses cooperative scheduling in a single thread (great for high concurrency I/O).",
  },
  {
    id: "py-a-12",
    level: "Advanced",
    q: "How do you avoid race conditions in multithreading?",
    a: "Use locks, RLock, Semaphore, Queue, or avoid shared state; also use thread-safe data structures.\n\nExample:\n```python\nimport threading\nlock=threading.Lock()\ncount=0\n\ndef inc():\n  global count\n  with lock:\n    count += 1\n```",
  },
  {
    id: "py-a-13",
    level: "Advanced",
    q: "Explain Python’s import system and sys.path.",
    a: "Python searches modules using sys.path (script dir, PYTHONPATH, site-packages). Import caches in sys.modules for speed.",
  },
  {
    id: "py-a-14",
    level: "Advanced",
    q: "What is serialization and pickling? When not to use pickle?",
    a: "pickle serializes Python objects but is unsafe with untrusted input; prefer JSON for interoperability and safety.",
  },
  {
    id: "py-a-15",
    level: "Advanced",
    q: "Explain closures and free variables.",
    a: "A closure captures variables from an outer scope.\n\nExample:\n```python\ndef outer(x):\n  def inner(y):\n    return x+y\n  return inner\nf=outer(10)\nprint(f(5))\n```",
  },
  {
    id: "py-a-16",
    level: "Advanced",
    q: "What is the difference between __getattr__ and __getattribute__?",
    a: "__getattribute__ runs for every attribute access; __getattr__ runs only when attribute not found. Misuse may cause recursion.",
  },
  {
    id: "py-a-17",
    level: "Advanced",
    q: "How do you implement caching in Python?",
    a: "Use functools.lru_cache for pure functions.\n\nExample:\n```python\nfrom functools import lru_cache\n\n@lru_cache(maxsize=256)\ndef fib(n):\n  if n<2: return n\n  return fib(n-1)+fib(n-2)\n```",
  },

  // ---- fill remaining up to 50 (balanced advanced) ----
  {
    id: "py-a-18",
    level: "Advanced",
    q: "Explain Python’s data model dunder methods with an example.",
    a: "Special methods like __len__, __iter__, __str__ allow custom object behavior.\n\nExample:\n```python\nclass Bag:\n  def __init__(self, items): self.items=items\n  def __len__(self): return len(self.items)\n\nprint(len(Bag([1,2,3])))\n```",
  },
  {
    id: "py-a-19",
    level: "Advanced",
    q: "How do you write a memory-efficient file reader?",
    a: "Iterate line by line or use generators to avoid loading full file.\n\nExample:\n```python\nwith open('big.txt') as f:\n  for line in f:\n    process(line)\n```",
  },
  {
    id: "py-a-20",
    level: "Advanced",
    q: "What is a weak reference and when to use it?",
    a: "weakref allows referencing objects without increasing ref count; useful for caches to avoid memory leaks.",
  },
  {
    id: "py-a-21",
    level: "Advanced",
    q: "Explain copy-on-write concept (high level) and Python behavior.",
    a: "Python generally uses reference semantics; copying must be explicit. Some OS-level optimizations may use copy-on-write for processes (fork).",
  },
  {
    id: "py-a-22",
    level: "Advanced",
    q: "How do you structure a large Python project?",
    a: "Use packages, clear module boundaries, dependency injection patterns, typed interfaces, tests, and environment config management.",
  },
  {
    id: "py-a-23",
    level: "Advanced",
    q: "What is pyproject.toml and why is it important?",
    a: "It standardizes build system and dependency metadata for modern Python tooling (PEP 517/518).",
  },
  {
    id: "py-a-24",
    level: "Advanced",
    q: "How do you prevent circular imports?",
    a: "Refactor shared code, import locally inside functions, or reorganize modules to avoid mutual dependencies.",
  },
  {
    id: "py-a-25",
    level: "Advanced",
    q: "Explain cooperative multitasking in asyncio.",
    a: "Tasks yield control with await, allowing other tasks to run—no preemption like threads.",
  },
  {
    id: "py-a-26",
    level: "Advanced",
    q: "How do you handle backpressure in async systems?",
    a: "Use bounded queues, semaphores, rate limiting, and retry strategies with jitter.",
  },
  {
    id: "py-a-27",
    level: "Advanced",
    q: "What is a semaphore in concurrency?",
    a: "It limits concurrent access to a resource.\n\nExample:\n```python\nimport asyncio\nsem = asyncio.Semaphore(5)\n\nasync def task():\n  async with sem:\n    await asyncio.sleep(1)\n```",
  },
  {
    id: "py-a-28",
    level: "Advanced",
    q: "How do you do structured logging in Python?",
    a: "Use logging with JSON formatter or libraries like structlog; include correlation IDs for tracing.",
  },
  {
    id: "py-a-29",
    level: "Advanced",
    q: "What is a wheel file (.whl)?",
    a: "A built distribution format that installs faster than source distributions because it doesn’t require compilation at install time.",
  },
  {
    id: "py-a-30",
    level: "Advanced",
    q: "How do you write unit tests in Python?",
    a: "Use unittest/pytest with fixtures and mocking.\n\nExample:\n```python\ndef add(a,b): return a+b\n\ndef test_add():\n  assert add(2,3)==5\n```",
  },
  {
    id: "py-a-31",
    level: "Advanced",
    q: "What is mocking and when is it needed?",
    a: "Mocking replaces external dependencies (DB, API) to make tests deterministic.\n\nExample:\n```python\nfrom unittest.mock import Mock\napi = Mock(return_value={'ok':True})\n```",
  },
  {
    id: "py-a-32",
    level: "Advanced",
    q: "How do you profile Python code for performance?",
    a: "Use cProfile, timeit, line_profiler; optimize hotspots, avoid premature optimization.",
  },
  {
    id: "py-a-33",
    level: "Advanced",
    q: "Explain Python’s hash randomization and its purpose.",
    a: "Hash randomization protects against certain DoS attacks on hash tables by making hash order unpredictable across runs.",
  },
  {
    id: "py-a-34",
    level: "Advanced",
    q: "What is the difference between bytes and str?",
    a: "str is Unicode text; bytes is raw binary data. Encode/decode between them.\n\nExample:\n```python\nb='hi'.encode('utf-8')\ns=b.decode('utf-8')\n```",
  },
  {
    id: "py-a-35",
    level: "Advanced",
    q: "Explain async generator and use case.",
    a: "Async generators yield values over time in async code.\n\nExample:\n```python\nasync def agen():\n  for i in range(3):\n    yield i\n```",
  },
  {
    id: "py-a-36",
    level: "Advanced",
    q: "How do you ensure thread safety of shared data?",
    a: "Use locks, queues, avoid shared mutable state, or use concurrent structures like queue.Queue.",
  },
  {
    id: "py-a-37",
    level: "Advanced",
    q: "Explain the difference between process pool and thread pool.",
    a: "Thread pool is good for I/O-bound tasks; process pool is good for CPU-bound tasks and bypasses GIL.",
  },
  {
    id: "py-a-38",
    level: "Advanced",
    q: "How do you handle signals in Python services?",
    a: "Use signal module for SIGTERM/SIGINT to gracefully shutdown.\n\nExample:\n```python\nimport signal\n\ndef handler(sig, frame):\n  print('shutdown')\n\nsignal.signal(signal.SIGTERM, handler)\n```",
  },
  {
    id: "py-a-39",
    level: "Advanced",
    q: "Explain dependency injection idea in Python.",
    a: "Pass dependencies (clients, repos) as parameters/constructors instead of hardcoding, improving testability.",
  },
  {
    id: "py-a-40",
    level: "Advanced",
    q: "What is idempotency and how do you implement it?",
    a: "An operation can be repeated without side effects. Use idempotency keys stored with results to return same response on retry.",
  },
  {
    id: "py-a-41",
    level: "Advanced",
    q: "How do you safely execute subprocess calls?",
    a: "Use subprocess.run with list args, avoid shell=True unless needed.\n\nExample:\n```python\nimport subprocess\nsubprocess.run(['ls','-la'], check=True)\n```",
  },
  {
    id: "py-a-42",
    level: "Advanced",
    q: "Explain Python’s packaging: sdist vs wheel.",
    a: "sdist is source distribution; wheel is built distribution. Wheels install faster and more reliably.",
  },
  {
    id: "py-a-43",
    level: "Advanced",
    q: "What are PEPs?",
    a: "Python Enhancement Proposals define Python language standards and features (e.g., PEP8 style).",
  },
  {
    id: "py-a-44",
    level: "Advanced",
    q: "How do you implement retry with exponential backoff?",
    a: "Increase delay after each failure with jitter.\n\nExample:\n```python\nimport time, random\nfor i in range(5):\n  try:\n    call()\n    break\n  except Exception:\n    time.sleep((2**i) + random.random())\n```",
  },
  {
    id: "py-a-45",
    level: "Advanced",
    q: "Explain LBYL vs EAFP in Python.",
    a: "LBYL checks before doing (look before you leap). EAFP tries and catches exceptions (easier to ask forgiveness than permission). Python favors EAFP.",
  },
  {
    id: "py-a-46",
    level: "Advanced",
    q: "How do you build a simple CLI tool?",
    a: "Use argparse or click.\n\nExample:\n```python\nimport argparse\np=argparse.ArgumentParser()\np.add_argument('--name')\nargs=p.parse_args()\nprint('hi', args.name)\n```",
  },
  {
    id: "py-a-47",
    level: "Advanced",
    q: "What is a coroutine?",
    a: "A coroutine is a special function declared with async that can be paused/resumed using await.",
  },
  {
    id: "py-a-48",
    level: "Advanced",
    q: "How do you implement a thread-safe producer-consumer pattern?",
    a: "Use queue.Queue which is thread-safe.\n\nExample:\n```python\nfrom queue import Queue\nq=Queue()\nq.put(1)\nitem=q.get()\nq.task_done()\n```",
  },
  {
    id: "py-a-49",
    level: "Advanced",
    q: "What is time complexity of dict lookup and why?",
    a: "Average O(1) due to hashing; worst-case can degrade if many collisions, mitigated by hash randomization and resizing.",
  },
  {
    id: "py-a-50",
    level: "Advanced",
    q: "How do you handle large data processing efficiently?",
    a: "Use generators, streaming, chunking, multiprocessing, and optimized libraries; avoid loading everything into memory at once.",
  },
];
